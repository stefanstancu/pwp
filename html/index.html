<!DOCTYPE html>
<html>
    <header>
        <title>Stefan Stancu</title>
    </header>
    <body>
        <div id="navBar">
            <div id="experience">
                <a href="#">Experience</a>
            </div>
            <div id="school">
                <a href="#">Education</a>
            </div>
            <div id="projects">
                <a href="#">Projects</a>
            </div>
            <div id="contact">
                <a href="#">Contact</a>
            </div>
        </div>
        <div id="body">
            <h1 id="name">Stefan Stancu</h1>
            <h3 id="subName">Software Developer (with a sense of adventure)</h3>
            <div id="mainBody">
                <div></div>
                <div class="container" id="cnt_experience">
                    <h2>Experience</h2>
                    <table>
                        <tr>
                            <td>&nbsp;</td>
                            <td class="cmp">Intel</td>
                            <td>Software Engineer</td>
                            <td class="date">May 2019 - June 2020</td>
                        </tr>
                        <tr>
                            <td>
                                <span class="plc">San Jose, CA</span>
                            </td>
                            <td colspan="3">
                                <ul>
                                    <li>Coordinated large codebase compilation among 40 machines and 2k+ developers</li>
                                    <li>Lead development of in house CI tools on Django to alleviate developer bottlenecks</li>
                                    <li>Debugged time-sensitive gcc non-determinism issues in teams with developers</li>
                                    <li>Built and deployed source code file diff at scale as an automated changelist monitoring tool</li>
                                </ul>
                            </td>
                        </tr>
                        <tr>
                            <td>&nbsp;</td>
                            <td class="cmp">Vivovii</td>
                            <td>Data Science Intern</td>
                            <td class="date">May 2018 - August 2018</td>
                        </tr>
                        <tr>
                            <td rowspan="3">
                                <span class="plc">Toronto, ON</span>
                            </td>
                            <td colspan="3">
                                <ul>
                                    <li>Refined business KPIs and north-start metric using quantitative feedback</li>
                                    <li>Integrated Tableau with existing in-house authentication service</li>
                                    <li>Designed and built tableau dashboard for user-data visualization</li>
                                </ul>
                            </td>
                        </tr>
                        <tr>
                            <td class="cmp">Autocase</td>
                            <td>Full Stack Engineer</td>
                            <td class="date">May 2017 - August 2017</td>
                        </tr>
                        <tr>
                            <td colspan="3">
                                <ul>
                                    <li>Developed Django app automating 4 weeks of data entry</li>
                                    <li>Improved code coverage by 20% with automated unit & integration tests with GitLab-CI</li>
                                    <li>Worked in a scrum with Kanban practices using JIRA, code reviewsand ticket grooming</li>
                                    <li>Incrementally retrofitted Django stack with micro-service architecture</li>
                                </ul>
                            </td>
                        </tr>
                    </table>
                </div>
                <div class="container" id="cnt_school">
                    <h2>Education</h2>
                    <h3>University of Toronto</h3>
                    <img src="school.png" alt="oops">
                </div>
                <div class="container" id="cnt_projects">
                    <h2>Projects</h2>
                    <div id="carousel" class="carousel">
                        <div id="cP1">
                            <h3>Ol' Man</h3>
                            <div class="imgRow">
                                <div> <img src="van1h.jpg"> </div>
                                <div> <img src="van2h.jpg"> </div>
                                <div> <img src="van3h.jpg"> </div>
                                <div> <img src="van4h.jpg"> </div>
                                <div> <img src="van5h.jpg"> </div>
                                <div> <img src="van6h.jpg"> </div>
                                <div> <img src="van7h.jpg"> </div>
                                <div> <img src="van8h.jpg"> </div>
                            </div>
                            <b>Features:</b>300 W solar, 300 AH AGM batteries, 5 gallon fresh & grey water tanks, running water, solar shower, fridge, 1000W inverter, battery isolator to van alternator, dinnette style memory foam bed/table, temperature controlled vent, 12V outlets, projector, 2 burner stove, 20lb propane tank, cell signal booster, ceiling mounted surfboard storage 
                        </div>
                        <div id="cP2">
                            <h3>Ultrasound to MRI Using CNN</h3>
                            <div> <img src="heart.gif"></div>
                            We attempt to enhance ultrasound imagery using various Generative Adversarial Networks. The Translated images above are <i>generated</i> from the Source.
                        </div>
                        <div id="cP3">
                            <h3>Software Projects</h3>
                            <table>
                                <tr>
                                    <th>Gym Booker</th>
                                    <td>Desc.</td>
                                </tr>
                                <tr>
                                    <th>Grocer</th>
                                    <td>Desc.</td>
                                </tr>
                                <tr>
                                    <th>Kalo</th>
                                    <td>Desc.</td>
                                </tr>
                                <tr>
                                    <th>Crisis</th>
                                    <td>Desc.</td>
                                </tr>
                            </table>
                        </div>
                        <br>
                        <div id="pNavbar">
                            <button id="cBack">&lt</button>
                            <div id="pNavBarPos">x****</div>
                            <button id="cNext">&gt</button>
                        </div>
                    </div>
                </div>
                <div class="container" id="cnt_contact">Contact</div>
                <div class="container" id="cnt_ball"></div>
            </div>
        </div>
    <script>
        var vp, camera, controls, scene, renderer, effect;
        var tabs = ["experience", "school", "projects", "contact"];

        for (let tab of tabs){
            let anchor = document.getElementById(tab);
            anchor.onclick = function () {
                hideAll();
                document.getElementById("cnt_" + tab).style["contentVisibility"] = "visible";
                setBallWindow();
            }
        }
        hideAll();
        setMainBodyHeight();

        var carousel = new Carousel();
        document.getElementById("cNext").onclick = (()=>carousel.next());
        document.getElementById("cBack").onclick = (()=>carousel.previous());

        function hideAll() {
            for (let tab of tabs){
                document.getElementById("cnt_" + tab).style["contentVisibility"] = "hidden";
            }
        };

        function setMainBodyHeight() {
            var offset = 10;
            offset += getElHeight("name");
            offset += getElHeight("subName");

            var height = window.innerHeight - offset;
            document.getElementById("mainBody").style["height"] = height.toString() + "px";
        };

        function setBallWindow() {
            var offset = 0;
            var el_visible = getVisible();
            offset += getElHeight(el_visible);
            offset += getElHeight("name");
            offset += getElHeight("subName");

            var height = window.innerHeight - offset;
            document.getElementById("cnt_ball").style["height"] = height.toString() + "px";
            onWindowResize();
        };
        
        function getElHeight(el) {
            if (typeof(el) === "string")
                el = document.getElementById(el);
            var height = el.offsetHeight;
            var style = window.getComputedStyle ? getComputedStyle(el, null): el.currentStyle;
            height += parseInt(style.marginTop) || 0;
            height += parseInt(style.marginBottom) || 0;
            return height;
        };

        function getVisible() {
            for (let tab of tabs){
                var anchor = document.getElementById("cnt_" + tab);
                if (anchor.style["contentVisibility"] === "visible")
                    return anchor;
            }
            return null;
        };

        function onWindowResize() {
            vp = document.getElementById("cnt_ball").getBoundingClientRect();
            camera.aspect = vp.width / vp.height;
            camera.updateProjectionMatrix();

            renderer.setSize(vp.width, vp.height);
            effect.setSize(vp.width, vp.height);
        }

        // Carousel object
        function Carousel () {
            this.container = document.getElementById("carousel");
            this.indicator = document.getElementById("pNavBarPos");
            this.element_names = ["cP1","cP2","cP3"];
            this.elements = [];
            for (el of this.element_names) {
                this.elements.push(new CarouselItem(el));
            }

            this.index = 0;
            this.update = function() {
                for (el of this.elements) {
                    el.setHidden();
                }
                this.elements[this.index].setVisible();
                this.indicator.innerHTML = "*".repeat(this.index) + "X" + "*".repeat(this.elements.length - this.index - 1);

            };
            this.next = function() {
                this.index = (this.index + 1) % this.elements.length;
                this.update();
            };
            this.previous = function() {
                this.index --;
                if (this.index < 0)
                    this.index = this.elements.length - 1;
                this.update();
            };
            this.update();
        };
    
        function CarouselItem(name) {
            this.me = document.getElementById(name);
            this.setVisible = function () {
                this.me.style["contentVisibility"] = "visible";
            };
            this.setHidden = function () {
                this.me.style["contentVisibility"] = "hidden";
            };
        };
    </script>
        <script type="module">
            import * as THREE from 'https://unpkg.com/three@0.126.1/build/three.module.js';

            import { AsciiEffect } from 'https://unpkg.com/three@0.126.1/examples/jsm/effects/AsciiEffect.js';
            import { TrackballControls } from 'https://unpkg.com/three@0.126.1/examples/jsm/controls/TrackballControls.js';

            let sphere, plane;

            const start = Date.now();

            init();
            animate();

            function init() {
                vp = document.getElementById("cnt_ball").getBoundingClientRect();
                camera = new THREE.PerspectiveCamera(70, vp.width / vp.height, 1, 1000);
                camera.position.y = 150;
                camera.position.z = 700;

                scene = new THREE.Scene();
                scene.background = new THREE.Color(0, 0, 0);

                const pointLight1 = new THREE.PointLight(0xffffff);
                pointLight1.position.set(500, 500, 500);
                scene.add(pointLight1);

                const pointLight2 = new THREE.PointLight(0xffffff, 0.25);
                pointLight2.position.set(-500, -500, -500);
                scene.add(pointLight2);

                sphere = new THREE.Mesh(
                    new THREE.SphereGeometry(200, 20, 10),
                    new THREE.MeshPhongMaterial({flatShading: true})
                );
                scene.add(sphere);

                plane = new THREE.Mesh(new THREE.PlaneGeometry(400, 400), new THREE.MeshBasicMaterial({color: 0xe0e0e0}));
                plane.position.y = -200;
                plane.rotation.x = -Math.PI/2;
                scene.add(plane);

                renderer = new THREE.WebGLRenderer();
                renderer.setSize(vp.innerWidth, vp.innerHeight);
                
                effect = new AsciiEffect(renderer, ' .:-+*=%@#', {invert: true});
                effect.setSize(vp.width, vp.height);
                effect.domElement.style.color = 'white';
                effect.domElement.style.backgroundColor = 'black';

                document.getElementById("cnt_ball").appendChild(effect.domElement);

                controls = new TrackballControls(camera, effect.domElement);

                window.addEventListener('resize', onWindowResize);
            }

            function onWindowResize() {
                vp = document.getElementById("cnt_ball").getBoundingClientRect();
                camera.aspect = vp.width / vp.height;
                camera.updateProjectionMatrix();

                renderer.setSize(vp.width, vp.height);
                effect.setSize(vp.width, vp.height);
            }

            function animate() {
                requestAnimationFrame(animate);
                render();
            }

            function render() {
                const timer = Date.now() - start;

                sphere.position.y = Math.abs(Math.sin(timer * 0.002)) * 150;
                sphere.rotation.x = timer * 0.0003;
                sphere.rotation.z = timer * 0.0002;
                controls.update();
                effect.render(scene, camera);
            }
        </script>
    </body>
<style>
html, body {
    background-color: black;
    color: white;
    font-family:"Arial";
}
#navBar {
    height: 100%;
    width: 175px;
    position: fixed;
    z-index: 1;
    top: 0;
    left: 8;
    /*background-color: #111; */
    overflow-x: hidden;
    padding-top: 122px;
    font-weight: bold;
}
#navBar div {
    margin-bottom: 7px;
}
#navBar div a{
    color: white;
}
#body {
    height: auto;
    margin-left: 175px;
}
#mainBody .cmp {
    font-weight: bold;
}
#mainBody .date {
    text-align: right;
}
#mainBody .plc {
    writing-mode: vertical-lr;
    -ms-writing-mode: tb-rl;
    transform: rotate(180deg);
}
#mainBody table {
    width: 100%;
}
#cnt_ball {
    height: 80%;
    width: 95%;
}
.container h2 {
    margin-top: 0
}
#pNavbar { 
    width: 100%;
    display: inline-flex;
    justify-content:space-between;
}
.carousel {
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
}
.imgRow { 
    display: flex;
    flex-flow: row wrap;
    justify-content: space-between;
}
.imgRow img {
    padding:5px;
}

</style>
</html>
